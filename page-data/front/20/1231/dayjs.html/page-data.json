{
    "componentChunkName": "component---src-templates-blog-post-jsx",
    "path": "/front/20/1231/dayjs.html",
    "result": {"data":{"site":{"siteMetadata":{"title":"marveloper.io","siteUrl":"https://marvelopers.github.io"}},"markdownRemark":{"id":"7d46387f-cbf0-5896-af02-0b3fd27929e2","excerpt":"React에서 Dayjs를 사용해 만든 캘린더 정기배송 프로젝트에서 고객이 원하는 배송일을 선택할 수 있는 달력을 만들었다. 다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들기로 결정했다. momentjs로 만들다가 중단하고 dayjs…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.32584269662922%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVQ4y7VUW27CMBD0/W/VPz56hkpBVdIADnnHeW41C+NaJhT1o5ZMlt21PQ8nRkRk27bdybEsi6zrKnu9YQ7DhAvjMY6jDMMgx+NRDoeDxpjhCNcjNgjmeZZpmjSBBfiPuO97jZG7Xq8aIwe0QO2c042wFjVFiJ+yLCXLMm1KkkQXoylNU23K81wnDsGz6zpFjxjjfD5LVVU/lDlxcqxPmIt1jOue8jNDqBeoMW7b1ktCVET8YMqeQX+te1MgNtGQBtDQbSJomsYjBLKYgeE9o2Nspst0EZP00I966LKnTKgU/JkJe3VszBzrhpBxdXiFSLsoCo+K9bqudSMwOZ1OXgbk/88UaIXLTATQBCistcI6ERbWPtSxxiOkKRSdgmMyB/rzPXbzJKvcNKUp4S3wGzIB+/lehy5rfV5k/fiUrax/p4yTeOdAnR+Ay+VyM6VtpWoaETeKe3uXJbm949v64vP1SnQM+5XLeKe612/iE159QKFfmI83/AatsoorrPdF5QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dayjs calendar\"\n        title=\"dayjs calendar\"\n        src=\"/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png\"\n        srcset=\"/static/67ec074b93afca4f72c4f79b62270479/43e0d/dayjs_calendar.png 178w,\n/static/67ec074b93afca4f72c4f79b62270479/50ac3/dayjs_calendar.png 356w,\n/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png 371w\"\n        sizes=\"(max-width: 371px) 100vw, 371px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>React에서 Dayjs를 사용해 만든 캘린더</h2>\n<p>정기배송 프로젝트에서 고객이 원하는 배송일을 선택할 수 있는 달력을 만들었다.</p>\n<p>다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들기로 결정했다.</p>\n<p>momentjs로 만들다가 중단하고 dayjs로 처음부터 다시 만들면서 알게된 것들에 대한 기록이다.</p>\n<p><a href=\"https://github.com/marvelopers/react_legacy/tree/master/src/util/calendar\">여기</a>를 클릭하면 프로젝트에 사용한 캘린더를 모듈화한 코드를 확인할 수 있다. 프로젝트에서는 redux를 통해 상태관리를 했는데, 모듈화 코드에는 어디서나 사용할 수 있도록 redux 부분을 삭제했다.</p>\n<h2>dayjs vs momentjs</h2>\n<p>momentjs는 date 라이브러리 중 가장 오래되고 보편적으로 사용되는 라이브러리다. API를 폭넓게 지원하여 편리하지만 용량이 크다는 단점을 가지고 있다.</p>\n<p>momentjs와 비슷한 기능을 지원하지만 용량이 작은 dayjs를 사용하면 momentjs의 편의성은 살리고 단점을 커버할 수 있다. dayjs를 사용하면 momentjs 대비 약 97% 작은 용량을 사용할 수 있다.</p>\n<p>2018년에 출시된 dayjs가 momentjs의 자리를 대신하고 있는 추세다.</p>\n<p>공식 사이트 링크</p>\n<ul>\n<li>momentjs : <a href=\"https://momentjs.com/docs/\">https://momentjs.com/docs/</a></li>\n<li>dayjs : <a href=\"https://day.js.org/\">https://day.js.org/</a></li>\n</ul>\n<h2>How to use Dayjs</h2>\n<p>dayjs를 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install dayjs --save\n$ yarn add dayjs</code></pre></div>\n<p>리액트 파일에서는 아래와 같이 import해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>💪🏻 immutable</h3>\n<p>객체의 상태를 업데이트 하는 momentjs과 달리 dayjs은 immutable해 별로도 clone를 하지 않아도 된다.\n기존 momentjs 코드를 dayjs로 변경할 때 가장 신경써야 하는 부분이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span>\n<span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n<span class=\"token keyword\">const</span> momentDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmomentDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//momentDate의 상태가 변경된다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>momentDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsDate <span class=\"token operator\">=</span> <span class=\"token function\">dayjs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//dayjsDate의 상태는 변경되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-30'</span>\n\n<span class=\"token comment\">//add 한 상태를 보고 싶다면 이렇게 사용 해야 한다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsAddDate <span class=\"token operator\">=</span> dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsAddDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//'2020-12-31'</span></code></pre></div>\n<h3>📦 extend</h3>\n<p>dayjs는 Plugins을 사용해 필요한 기능들만 extend 할 수 있도록 설계되어 있다. dayjs가 momentjs에 비해 엄청나게 작은 용량으로 비슷한 기능을 지원할 수 있는 것이 바로 이 덕분이다.</p>\n<p>공식사이트의 <a href=\"https://day.js.org/docs/en/plugin/plugin\">Plugins</a>를 참고해 필요한 기능을 추가하면 된다. 언어는 <a href=\"https://day.js.org/docs/en/i18n/i18n\">i18n</a>을 참고해 같은 방식으로 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekday <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekday'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isoWeek <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/isoWeek'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekOfYear <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekOfYear'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// day extend</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>isoWeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekOfYear<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","fields":{"dateStr":"2020.12.31","date":"2020-12-31T00:00:00.000Z","slug":"/front/20/1231/dayjs.html"},"frontmatter":{"title":"React에서 Dayjs로 캘린더 만들기","tags":["dayjs","momentjs","calendar","react"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#react%EC%97%90%EC%84%9C-dayjs%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%A7%8C%EB%93%A0-%EC%BA%98%EB%A6%B0%EB%8D%94\">React에서 Dayjs를 사용해 만든 캘린더</a></p>\n</li>\n<li>\n<p><a href=\"#dayjs-vs-momentjs\">dayjs vs momentjs</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-use-dayjs\">How to use Dayjs</a></p>\n<ul>\n<li><a href=\"#-immutable\">💪🏻 immutable</a></li>\n<li><a href=\"#-extend\">📦 extend</a></li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"slug":"/front/20/1231/dayjs.html","date":"2020-12-31T00:00:00.000Z","previous":{"fields":{"slug":"/front/20/1228/how_to_merge_git_repo.html","date":"2020-12-28T00:00:00.000Z"},"frontmatter":{"title":"git repository merge","category":"front"}},"next":{"fields":{"slug":"/react/21/0110/about-react.html","date":"2021-01-10T00:00:00.000Z"},"frontmatter":{"title":"about react","category":"react"}}}},
    "staticQueryHashes": ["3764592887"]}