{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/front/20/1231/dayjs.html","result":{"data":{"site":{"siteMetadata":{"title":"marveloper.io","siteUrl":"https://marvelopers.github.io"}},"markdownRemark":{"id":"f7bb79bb-575a-5d42-9e17-393145852296","excerpt":"React에서 Dayjs를 사용해 만든 캘린더 정기배송 프로젝트에서 고객이 원하는 배송일을 선택할 수 있는 달력을 만들었다. 다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들기로 결정했다. momentjs로 만들다가 중단하고 dayjs…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVQ4y7VUy3LCMAz0//9Vbzn0GzoTphMaIE8gOE/hFazrcUMzPVQzBiHJ9mpX2IizZVlWF22aJpnnWdZqwxjMhBtj6/tebreb7HY7SZJEfazQwv3wDZxxHGUYBg1gA37D77pOfcSqqlIfMaAFamutHoS9yClCfNR1Lfv9XovSNNXNKMqyTIvyPNeFS/B9vV4VPXzY8XiUpmm+W+bCzTE/YSzmMc77ll8JQr7QGv3L5eIpISoi/iHKmkB/zXtRQDbRsA2godpEcD6fPUIgizswnDMqxmKqTBWx2B7qkQ9V9i0TKgl/JcJaHgczxrwhZIwOR4htl2XpUTHftq0ehE4Oh4OnAfH/EwVcYZiJAJwARVEUwjwRli4W57HHI6QoJJ2EYzGG9senb8dBHIsaoyjhFPgDGYD8/F+HKmt+dK/Ox6csdft7y7iJM4fW+QCcTqeHKC7XOOLF9mLf3mVKH//xZd54vrZIhxVfufTPVtfqTXzD1gMK/sJ4bHetsoorYONueQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dayjs calendar\"\n        title=\"dayjs calendar\"\n        src=\"/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png\"\n        srcset=\"/static/67ec074b93afca4f72c4f79b62270479/e9ff0/dayjs_calendar.png 180w,\n/static/67ec074b93afca4f72c4f79b62270479/f21e7/dayjs_calendar.png 360w,\n/static/67ec074b93afca4f72c4f79b62270479/d4635/dayjs_calendar.png 371w\"\n        sizes=\"(max-width: 371px) 100vw, 371px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"react에서-dayjs를-사용해-만든-캘린더\" style=\"position:relative;\"><a href=\"#react%EC%97%90%EC%84%9C-dayjs%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%A7%8C%EB%93%A0-%EC%BA%98%EB%A6%B0%EB%8D%94\" aria-label=\"react에서 dayjs를 사용해 만든 캘린더 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React에서 Dayjs를 사용해 만든 캘린더</h2>\n<p>정기배송 프로젝트에서 고객이 원하는 배송일을 선택할 수 있는 달력을 만들었다.</p>\n<p>다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들기로 결정했다.</p>\n<p>momentjs로 만들다가 중단하고 dayjs로 처음부터 다시 만들면서 알게된 것들에 대한 기록이다. </p>\n<p><a href=\"https://github.com/marvelopers/react_legacy/tree/master/src/util/calendar\">여기</a>를 클릭하면 프로젝트에 사용한 캘린더를 모듈화한 코드를 확인할 수 있다. 프로젝트에서는 redux를 통해 상태관리를 했는데, 모듈화 코드에는 어디서나 사용할 수 있도록 redux 부분을 삭제했다.</p>\n<h2 id=\"dayjs-vs-momentjs\" style=\"position:relative;\"><a href=\"#dayjs-vs-momentjs\" aria-label=\"dayjs vs momentjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dayjs vs momentjs</h2>\n<p>momentjs는 date 라이브러리 중 가장 오래되고 보편적으로 사용되는 라이브러리다. API를 폭넓게 지원하여 편리하지만 용량이 크다는 단점을 가지고 있다. </p>\n<p>momentjs와 비슷한 기능을 지원하지만 용량이 작은 dayjs를 사용하면 momentjs의 편의성은 살리고 단점을 커버할 수 있다. dayjs를 사용하면 momentjs 대비 약 97% 작은 용량을 사용할 수 있다.</p>\n<p>2018년에 출시된 dayjs가 momentjs의 자리를 대신하고 있는 추세다.</p>\n<p>공식 사이트 링크</p>\n<ul>\n<li>momentjs : <a href=\"https://momentjs.com/docs/\">https://momentjs.com/docs/</a></li>\n<li>dayjs : <a href=\"https://day.js.org/\">https://day.js.org/</a></li>\n</ul>\n<h2 id=\"how-to-use-dayjs\" style=\"position:relative;\"><a href=\"#how-to-use-dayjs\" aria-label=\"how to use dayjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use Dayjs</h2>\n<p>dayjs를 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">$ npm install dayjs --save\n$ yarn add dayjs</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>리액트 파일에서는 아래와 같이 import해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"-immutable\" style=\"position:relative;\"><a href=\"#-immutable\" aria-label=\" immutable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>💪🏻 immutable</h3>\n<p>객체의 상태를 업데이트 하는 momentjs과 달리 dayjs은 immutable해 별로도 clone를 하지 않아도 된다.\n기존 momentjs 코드를 dayjs로 변경할 때 가장 신경써야 하는 부분이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span>\n<span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n<span class=\"token keyword\">const</span> momentDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmomentDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//momentDate의 상태가 변경된다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>momentDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsDate <span class=\"token operator\">=</span> <span class=\"token function\">dayjs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//dayjsDate의 상태는 변경되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-30'</span>\n\n<span class=\"token comment\">//add 한 상태를 보고 싶다면 이렇게 사용 해야 한다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsAddDate <span class=\"token operator\">=</span> dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsAddDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//'2020-12-31'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"-extend\" style=\"position:relative;\"><a href=\"#-extend\" aria-label=\" extend permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📦 extend</h3>\n<p>dayjs는 Plugins을 사용해 필요한 기능들만 extend 할 수 있도록 설계되어 있다. dayjs가 momentjs에 비해 엄청나게 작은 용량으로 비슷한 기능을 지원할 수 있는 것이 바로 이 덕분이다. </p>\n<p>공식사이트의 <a href=\"https://day.js.org/docs/en/plugin/plugin\">Plugins</a>를 참고해 필요한 기능을 추가하면 된다. 언어는 <a href=\"https://day.js.org/docs/en/i18n/i18n\">i18n</a>을 참고해 같은 방식으로 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekday <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekday'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isoWeek <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/isoWeek'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekOfYear <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekOfYear'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// day extend</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>isoWeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekOfYear<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","fields":{"dateStr":"2020.12.31","date":"2020-12-31T00:00:00.000Z","slug":"/front/20/1231/dayjs.html"},"frontmatter":{"title":"React에서 Dayjs로 캘린더 만들기","tags":["dayjs","momentjs","calendar","react"]},"tableOfContents":"<ul>\n<li><a href=\"#react%EC%97%90%EC%84%9C-dayjs%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%A7%8C%EB%93%A0-%EC%BA%98%EB%A6%B0%EB%8D%94\">React에서 Dayjs를 사용해 만든 캘린더</a></li>\n<li><a href=\"#dayjs-vs-momentjs\">dayjs vs momentjs</a></li>\n<li>\n<p><a href=\"#how-to-use-dayjs\">How to use Dayjs</a></p>\n<ul>\n<li><a href=\"#-immutable\">💪🏻 immutable</a></li>\n<li><a href=\"#-extend\">📦 extend</a></li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"slug":"/front/20/1231/dayjs.html","date":"2020-12-31T00:00:00.000Z","previous":{"fields":{"slug":"/front/20/1228/how_to_merge_git_repo.html","date":"2020-12-28T00:00:00.000Z"},"frontmatter":{"title":"git repository merge","category":"front"}},"next":{"fields":{"slug":"/react/21/0110/about-react.html","date":"2021-01-10T00:00:00.000Z"},"frontmatter":{"title":"about react","category":"react"}}}},"staticQueryHashes":[]}