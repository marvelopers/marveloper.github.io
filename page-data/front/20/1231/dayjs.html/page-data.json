{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/front/20/1231/dayjs.html","result":{"data":{"site":{"siteMetadata":{"title":"marveloper.io","siteUrl":"https://marvelopers.github.io"}},"markdownRemark":{"id":"f7bb79bb-575a-5d42-9e17-393145852296","excerpt":"정기배송 프로젝트에서 배송 날짜를 선택하는 달력을 momentjs로 만들다가 중단하고 dayjs로 처음부터 다시 만들었던 것에 대한 기록이다.  다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들어야 했다. dayjs vs momentjs…","html":"<p>정기배송 프로젝트에서 배송 날짜를 선택하는 달력을 momentjs로 만들다가 중단하고 dayjs로 처음부터 다시 만들었던 것에 대한 기록이다. </p>\n<p>다양한 캘린더 라이브러리가 있지만, 디자인이나 기능 커스텀에 한계가 있기 때문에 달력을 만들어야 했다.</p>\n<h2 id=\"dayjs-vs-momentjs\" style=\"position:relative;\"><a href=\"#dayjs-vs-momentjs\" aria-label=\"dayjs vs momentjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dayjs vs momentjs</h2>\n<p>momentjs는 date 라이브러리 중 가장 오래되고 보편적으로 사용되는 라이브러리다. API를 폭넓게 지원하여 편리하지만 용량이 크다는 단점을 가지고 있다. </p>\n<p>momentjs와 비슷한 기능을 지원하지만 용량이 작은 dayjs를 사용하면 momentjs의 편의성은 살리고 단점을 커버할 수 있다. dayjs를 사용하면 momentjs 대비 약 97% 작은 용량을 사용할 수 있다.</p>\n<p>2018년에 출시된 dayjs가 momentjs의 자리를 대신하고 있는 추세다.</p>\n<p>공식 사이트</p>\n<ul>\n<li>momentjs : <a href=\"https://momentjs.com/docs/\">https://momentjs.com/docs/</a></li>\n<li>dayjs : <a href=\"https://day.js.org/\">https://day.js.org/</a></li>\n</ul>\n<h4 id=\"how-to-use-dayjs\" style=\"position:relative;\"><a href=\"#how-to-use-dayjs\" aria-label=\"how to use dayjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use Dayjs</h4>\n<p>dayjs를 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">$ npm install dayjs --save\n$ yarn add dayjs</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>리액트 파일에서는 아래와 같이 import해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"immutable\" style=\"position:relative;\"><a href=\"#immutable\" aria-label=\"immutable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>💪🏻immutable</h3>\n<p>객체의 상태를 업데이트 하는 momentjs과 달리 dayjs은 immutable해 별로도 clone를 하지 않아도 된다.\n기존 momentjs 코드를 dayjs로 변경할 때 가장 신경써야 하는 부분이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span>\n<span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n<span class=\"token keyword\">const</span> momentDate <span class=\"token operator\">=</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmomentDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//momentDate의 상태가 변경된다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>momentDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsDate <span class=\"token operator\">=</span> <span class=\"token function\">dayjs</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2020-12-30'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//dayjsDate의 상태는 변경되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-30'</span>\n\n<span class=\"token comment\">//add 한 상태를 보고 싶다면 이렇게 사용 해야 한다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// '2020-12-31'</span>\n\n<span class=\"token keyword\">const</span> dayjsAddDate <span class=\"token operator\">=</span> dayjsDate<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dayjsAddDate<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//'2020-12-31'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"extend\" style=\"position:relative;\"><a href=\"#extend\" aria-label=\"extend permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📦extend</h4>\n<p>dayjs는 Plugins을 사용해 필요한 기능들만 extend 할 수 있도록 설계되어 있다. dayjs가 momentjs에 비해 엄청나게 작은 용량으로 비슷한 기능을 지원할 수 있는 것이 바로 이 덕분이다. </p>\n<p>공식사이트의 <a href=\"https://day.js.org/docs/en/plugin/plugin\">Plugins</a>를 참고해 필요한 기능을 추가하면 된다. 언어는 <a href=\"https://day.js.org/docs/en/i18n/i18n\">i18n</a>을 참고해 같은 방식으로 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> dayjs <span class=\"token keyword\">from</span> <span class=\"token string\">'dayjs'</span>\n\n  <span class=\"token comment\">//day</span>\n  <span class=\"token keyword\">const</span> dayjs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekday <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekday'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isoWeek <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/isoWeek'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> weekOfYear <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dayjs/plugin/weekOfYear'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// day extend</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekday<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>isoWeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dayjs<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>weekOfYear<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"react에서-dayjs로-캘린더-만들기\" style=\"position:relative;\"><a href=\"#react%EC%97%90%EC%84%9C-dayjs%EB%A1%9C-%EC%BA%98%EB%A6%B0%EB%8D%94-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"react에서 dayjs로 캘린더 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React에서 Dayjs로 캘린더 만들기</h2>\n<p><a href=\"https://github.com/marvelopers/react_legacy/tree/master/src/util/calendar\">git</a></p>","fields":{"dateStr":"2020.12.31","date":"2020-12-31T00:00:00.000Z","slug":"/front/20/1231/dayjs.html"},"frontmatter":{"title":"React에서 Dayjs로 캘린더 만들기","tags":["dayjs","momentjs","calendar","react"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#dayjs-vs-momentjs\">dayjs vs momentjs</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#how-to-use-dayjs\">How to use Dayjs</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#immutable\">💪🏻immutable</a></p>\n<ul>\n<li><a href=\"#extend\">📦extend</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#react%EC%97%90%EC%84%9C-dayjs%EB%A1%9C-%EC%BA%98%EB%A6%B0%EB%8D%94-%EB%A7%8C%EB%93%A4%EA%B8%B0\">React에서 Dayjs로 캘린더 만들기</a></li>\n</ul>"}},"pageContext":{"slug":"/front/20/1231/dayjs.html","date":"2020-12-31T00:00:00.000Z","previous":{"fields":{"slug":"/front/20/1228/how_to_merge_git_repo.html","date":"2020-12-28T00:00:00.000Z"},"frontmatter":{"title":"git repository merge","category":"front"}},"next":null}},"staticQueryHashes":["764694655"]}