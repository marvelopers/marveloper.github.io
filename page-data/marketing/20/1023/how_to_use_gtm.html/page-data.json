{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/marketing/20/1023/how_to_use_gtm.html","result":{"data":{"site":{"siteMetadata":{"title":"marveloper.io","siteUrl":"https://marvelopers.github.io"}},"markdownRemark":{"id":"0a3af755-4db2-53e3-91c0-5a2ce3f9ffef","excerpt":"구글 공식 페이지에서 제공하는 가이드에 따르면, GTM 스니펫 코드를 홈페이지  영역에 추가하면 된다.\n하지만, 홈페이지가 리액트를 사용해 구축되었을 경우 위와 같은 방법은 사용할 수 없다. 리액트에서 GTM 스니펫 코드를 삽입하는 기능의 함수는 다음과 같다.","html":"<p>구글 공식 페이지에서 제공하는 가이드에 따르면, GTM 스니펫 코드를 홈페이지 <header> 영역에 추가하면 된다.\n하지만, 홈페이지가 리액트를 사용해 구축되었을 경우 위와 같은 방법은 사용할 수 없다.</p>\n<p>리액트에서 GTM 스니펫 코드를 삽입하는 기능의 함수는 다음과 같다. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">const Snippets = {\n  tags: function (id) {\n\n    if (!id) { console.log(&#39;GTM Id is required&#39;) }\n\n    const iframe = `\n      &lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=${id}&amp;gtm_cookies_win=x&quot;\n        height=&quot;0&quot; width=&quot;0&quot; style=&quot;display:none;visibility:hidden&quot; id=&quot;tag-manager&quot;&gt;&lt;/iframe&gt;`\n\n    const script = `\n      (function(w,d,s,l,i){w[l]=w[l]||[];\n        w[l].push({&#39;gtm.start&#39;: new Date().getTime(),event:&#39;gtm.js&#39;});\n        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!=&#39;dataLayer&#39;?&#39;&amp;l=&#39;+l:&#39;&#39;;\n        j.async=true;j.src=&#39;https://www.googletagmanager.com/gtm.js?id=&#39;+i+dl;\n        f.parentNode.insertBefore(j,f);\n      })(window,document,&#39;script&#39;,&#39;dataLayer&#39;,&#39;${id}&#39;);`\n\n    return {\n      iframe,\n      script,\n    }\n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","fields":{"dateStr":"2020.10.23","date":"2020-10-23T00:00:00.000Z","slug":"/marketing/20/1023/how_to_use_gtm.html"},"frontmatter":{"title":"React에서 GTM 스니펫 삽입하는 함수","tags":["ga","gtm","GTM태그 삽입"]},"tableOfContents":""}},"pageContext":{"slug":"/marketing/20/1023/how_to_use_gtm.html","date":"2020-10-23T00:00:00.000Z","previous":{"fields":{"slug":"/react/20/1223/redux.html","date":"2020-06-23T00:00:00.000Z"},"frontmatter":{"title":"Redux","category":"react"}},"next":{"fields":{"slug":"/react/20/1211/redux_toolkit.html","date":"2020-12-11T00:00:00.000Z"},"frontmatter":{"title":"redux-toolkit","category":"react"}}}},"staticQueryHashes":[]}